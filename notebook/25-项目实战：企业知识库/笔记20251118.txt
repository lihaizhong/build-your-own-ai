Q：老师觉得以后用 cursor/trae 写代码的目的是快速多方向做原型开发为主，还是完全替代人工敲代码？
不太可能完全替代人 => Cursor/Trae 可能会有Bug，对于越复杂的系统，Bug出现的概率就越高

敲代码，一些明确的任务 => 可以用AI来生成（执行、动手）
但是会有很多地方需要明确下来
=> 项目的需求、现有项目的逻辑 （动脑） ******

Q：是不是复杂的系统得分成小的模块让Trae来生成？
拆分成不同的模块 => 模块化编程
系统大的话，会有很多的相关模块
=> 改了模块A，也会影响到 模块B，C

Q：我是iOS 开发，我们之前最早会写UI就很抢手，后来需要知道各种调优，再后来需要清晰底层优化，要求越来越高。我想问现在ai大应用开发是啥阶段

AI大模型开发，在企业内部属于早期的阶段

速盈，
AI => 不确定性

Q：AI大模型开发流程可以说下吗，在工作中如何评估工作量？
Step1，需求分析 => 需求文档
Step2，选型，解决方案（Qwen-Agent, LangGraph）
Step3，开发（基于现有的数据源）
数据处理（清洗、Summary、标注）
打造工具，打造工作流
Agent 角色 prompt
Step4，测试 （Q，A）

Q：老师有没有文章介绍AI在制造业不同部门的应用实例的？
黑灯工厂，麦肯锡 WEF
https://arxiv.org/

https://github.com/IlyaRice/RAG-Challenge-2
github.com/trustbit/enterprise-rag-challenge/tree/main

Retrieval 召回
Reranking 排序

1000万chunks 
=> Retrieval （粗筛）1000chunks 关键词，embedding
=> Reranking  LLM Reranking （严格控制个数）
=> LLM 窗口大小 128K 10个chunk

Rreranking 是打分模型，计算量会比较大 （神经网络）
Query, Chunk1 => Score1
Query, Chunk2 => Score2

Embedding 效率更高，批量进行，矩阵的乘法    => 快，粗筛
Query向量 会和 chunk_list向量，直接做相似度的计算

Prompt Template
针对不同的任务进行 LLM prompt

DeepSeek-OCR, PaddleOCR


表格数据 => Docling解析 => HTML标签
<tr>
	<th> </th>
</tr>
<tr>
       <td></td>
</tr>
MinerU => HTML表格

python -m src.pipeline

D:\AppData\Local\Programs\Python\Python311\Lib\site-packages\docling\backend\docling_parse_v2_backend.py


格式1：json
9d7a72445aba6860402c3acce75af02dc045f74d.json

格式2：md
9d7a72445aba6860402c3acce75af02dc045f74d.md

Faiss：轻量级，速度快，需要自己管理元数据（page, 文件名）
很多企业向量数据库，内部会调用Faiss进行计算

ES

故障解决方案推荐
文档1：设备A 的故障解决方案
文档2：设备B（型号会更新）的故障解决方案

意图识别

多路由 => 对知识库进行分类

Q：多个会影响性能吗？比如不止 100 个，可能是 10 万或者更多时
每家公司 => 1个知识库
每个部门 =>1个知识库

query => tag
知识库 => tag
tag 帮我们做筛选（路由Routing）
 
人根据我们的业务经验，来划分
=> 按科室，按病种
=> 按部门

路由 相当于意图识别
方法1：人工规则，比如 关键词匹配上了这个公司名称
方法2：LLM

Retrieval检索方法：
关键词BM25 => 严格匹配，
vDB => 模糊查询

vDB 属于真正语义上的问答查询么？
vDB 是在词向量空间中 训练出来的，按照空间的距离（相似度）进行筛选


Q：那种随时会更新的数据库又该怎么设计呢？
数据库更新 => 下次进行 retrieval 会自动匹配新的数据

相当于粗筛


Q：如果用语义检索topN,再用关键字从topN检索是否会更精确。
语义检索TopN 可能会有缺失

Embedding 是一个向量相似度计算的模型
Reranking 是一个打分模型（query, 和 chunk之间的匹配程度）
类似于置信度那种么

如果我想检索a,b,c三个公司的情况，横向对比，如果按照公司区分向量库，可以实现横向对比吗
Q：公司A、B、C 谁的营收更高？


Reranking 允许我们用更精确的方式，进行打分

rerank通常使用什么尺寸的模型
bge-m3-reranker 2G
8B-reranker 19G
LLM-rerank 



Q：你说的做投研的基金经理不用本地大模型用在线大模型，不怕数据泄露？
GPT5，公司和微软有合作，专门有Azure云上的GPT



答案：
```
{
  "step_by_step_analysis": "
1. 问题要求比较多家公司2022年总资产。\n
2. 各公司独立答案：A公司6,601,086,000元，B公司1,249,642,000元，C公司217,435,000元。\n
3. 直接比较得C公司最低。\n
4. 若有公司币种不符则排除。\n
5. 因此答案为C公司。",
  "reasoning_summary": "独立答案显示C公司总资产最低，直接得出结论。",
  "relevant_pages": [],
  "final_answer": "C公司"
}
```

Think step by step

示例1：
问题：
"'万科企业股份有限公司'2022年总资产是多少？"

答案：
```
{
  "step_by_step_analysis": "
1. 问题询问'万科企业股份有限公司'2022年总资产。'总资产'指公司拥有的全部资源。\n
2. 年报第78页有'合并资产负债表'，列明2022年12月31日总资产。\n
3. 该行数据为'总资产'，与问题完全匹配。\n
4. 报告显示总资产为18500342000元。\n
5. 无需计算，直接取值。",
  "reasoning_summary": "年报78页直接给出2022年总资产，无需推算。",
  "relevant_pages": [78],
  "final_answer": 18500342000
}



from src.pdf_parsing import PDFParser
ModuleNotFoundError: No module named 'src'

运行pipeline.py

RAG-Challenge-2-main>python -m src.pipeline

Q：增强的时候 会出现问题理解错误的情况me ?
如果给它具体示例 => 快速理解，


刚刚的思维链 和现在的指令化 是要个例子，还是直接调用呢？ ceo 这个问题，客户沟通应该不会这么细啊。问题也是我们想不到的，举例举不完



指令细化通过提示词实现吗


Q：老师能不能讲讲用AI辅助画CAD图的思路？
问答，检索，RAG
SW API，API文档整理好


怎么实现有个后台界面，管理员上传pdf文件并进行向量化，用户在前台页面发问题，并生成回答

LangChain是一个通用性的框架，RAG只是能力之一
如果我们想要打造更好的RAG，可以用今天的这个项目

帮我整理 src文件夹下面 各个文件的作用，理解核心逻辑，写入到 .html 可以用mermaid和svg

帮我查找，程序中实现了
AnswerWithRAGContextNumberPrompt
AnswerWithRAGContextBooleanPrompt
AnswerWithRAGContextNamesPrompt
ComparativeAnswerPrompt
===
在理解这些实现的基础上，我想实现一个 AnswerWithRAGContextStringPrompt，即开放性的问题，回答的是一段文本


    example = r'''
示例：
问题：
"请简要总结'万科企业股份有限公司'2022年主营业务的主要内容。"

答案：
```
{
  "step_by_step_analysis": "
1. 问题要求总结2022年万科企业股份有限公司的主营业务。\n
2. 年报第10-12页详细描述了公司主营业务，包括房地产开发、物业服务等。\n
3. 结合上下文，归纳出主要业务板块。\n
4. 重点突出房地产开发和相关服务。\n
5. 形成简明扼要的总结。",
  "reasoning_summary": "年报10-12页明确列出主营业务，答案基于原文归纳。",
  "relevant_pages": [10, 11, 12],
  "final_answer": "万科企业股份有限公司2022年主营业务包括房地产开发、物业服务、租赁住房、物流仓储等，核心业务为住宅及商业地产开发与运营。"
}
```

打造自己的RAG系统
1）准备中文语料PDF
2）docling => MinerU
3) 打造 StringPrompt
4）模型用 qwen-turbo-latest
embedding模型：text_embedding_v1
5) 搭建界面
Gradio, Streamlit


帮我使用streamlit搭建可视化界面，用户提问了一个问题，
后台调用类似 pipeline.process_questions() 
默认kind=string，这里只需要单个问题即可，然后回答用户，在界面上显示。
参考给你的这个界面风格

streamlit run .\app_streamlit.py

中芯国际在晶圆制造行业中的地位如何？其服务范围和全球布局是怎样的？

我刚才运行了 streamlit run .\app_streamlit.py
然后输入了问题：中芯国际在晶圆制造行业中的地位如何？其服务范围和全球布局是怎样的？
我看到后台：
===
response= {"status_code": 200, "request_id": "c7c96036-046d-4705-87a4-e27d80479c56", "code": "", "message": "", "output": {"text": null, "finish_reason": null, "choices": [{"finish_reason": "stop", "message": {"role": "assistant", "content": "```\n{\n  \"step_by_step_analysis\": \"1. 问题要求分析中芯国际在晶圆制造行业中的地位，以及其服务范围和全球布局。\\n2. 根据上下文，第一页明确指出：‘中芯国际是世界领先的集成电路晶圆代工企业之一，也是中国大陆集成电路制造业领导者’，并提到‘根据全球各纯晶圆代工企业最新公布的2024年销售额情况，中芯国际位居全球第二，在中国大陆企业中排名第一’。这说明其在全球和中国市场的领先地位。\\n3. 关于服务范围，文中多次提到：‘向全球客户提供8英寸和12英寸晶圆代工与技术服务’，同时提供‘设计服务与IP支持、光掩模制造等一站式配套服务’，表明其不仅提供代工，还覆盖产业链上下游的生态服务。\\n4. 全球布局方面，文中提到：‘我们 建立高效且完善的系统用于追踪和处理客户投诉，并安排相关部门对任何客户投诉进行及时调查并按照流程及时处理，实现客户满意度提升’，并列出客户服务 团队覆盖上海、北京、天津、深圳、中国台湾、美国加州、德国慕尼黑、意大利米兰、日本东京等多个国家和地区，说明其全球运营能力。\\n5. 综合以上信息，可得出结论：中芯国际在全球排名第二、中国第一，服务涵盖晶圆代工及配套生态，全球布局广泛。\",\n  \"reasoning_summary\": \"行业地位基于年报明确数据（全球第二、中国第一），服务范围来自多处描述（晶圆代工+配套服务），全球布局通过客户团队分布体现。\",\n  \"relevant_pages\": [0],\n  \"final_answer\": \"中芯国际是世界领先的集成电路晶圆代工企业之一，2024年全球销售额排名第二，中国大陆排名第一。其服务范围包括8英寸和12英寸晶圆 代工与技术服务，以及设计服务、IP支持、光掩模制造等一站式配套服务。全球布局方面，公司设有覆盖上海、北京、天津、深圳、中国台湾、美国加州、德国慕尼黑、意大利米兰、日本东京等多个国家和地区的客户服务团队，实现全球运营。\"\n}\n```"}}]}, "usage": {"input_tokens": 8048, "output_tokens": 465, "total_tokens": 8513}}
content= ```
{
  "step_by_step_analysis": "
1. 问题要求分析中芯国际在晶圆制造行业中的地位，以及其服务范围和全球布局。\n
2. 根据上下文，第一页明确指出：‘中芯 国际是世界领先的集成电路晶圆代工企业之一，也是中国大陆集成电路制造业领导者’，并提到‘根据全球各纯晶圆代工企业最新公布的2024年销售额情况，中芯国际位居全球第二，在中国大陆企业中排名第一’。这说明其在全球和中国市场的领先地位。\n
3. 关于服务范围，文中多次提到：‘向全球客户提供8英寸和12英寸晶圆代工与技术服务’，同时提供‘设计服务与IP支持、光掩模制造等一站式配套服务’，表明其不仅提供代工，还覆盖产业链上下游的生态服务。\n
4. 全球布局方面，文中提到：‘我们建立高效且完善的系统用于追踪和处理客户投诉，并安排相关部门对任何客户投诉进行及时调查并按照流程及时处理，实现客户满意 度提升’，并列出客户服务团队覆盖上海、北京、天津、深圳、中国台湾、美国加州、德国慕尼黑、意大利米兰、日本东京等多个国家和地区，说明其全球运营 能力。\n
5. 综合以上信息，可得出结论：中芯国际在全球排名第二、中国第一，服务涵盖晶圆代工及配套生态，全球布局广泛。",
  "reasoning_summary": "行业地位基于年报明确数据（全球第二、中国第一），服务范围来自多处描述（晶圆代工+配套服务），全球布局通过客户团队分布 体现。",
  "relevant_pages": [0],
  "final_answer": "中芯国际是世界领先的集成电路晶圆代工企业之一，2024年全球销售额排名第二，中国大陆排名第一。其服务范围包括8英寸和12英寸晶圆代工与技术服务，以及设计服务、IP支持、光掩模制造等一站式配套服务。全球布局方面，公司设有覆盖上海、北京、天津、深圳、中国台湾、美国加州、德国慕尼黑、意大利米兰、日本东京等多个国家和地区的客户服务团队，实现全球运营。"
}
```
===
但是前端页面显示：
检索结果：content 字段不是合法的 JSON 字符串！
分步推理：。
推理摘要：。
相关页面：生成答案时出错: No module named 'pyarrow'

帮我查看代码，先不修改代码


Q：我现在就有客户要找一个产业的重点公司的情报。 重点公司有公司财报，但大部分没有财报。我要找他们23-25年的事件，但第一步，集中采数据都无法做。有什么办法？
情况1：上市公司，可以看财报，或者新闻（雪球、东方财富）
情况2：非上市公司
Kimi + 联网搜索
qwen-turbo + 联网搜索 enable_search = true


Q：现在企业加入AI的情况，多数还是加入到自己现有Web 页面或者 App上么？应该怎么加进去 直接输出URL？
员工用的，一般在OA，聊天IM

上一期运行Qwen2_5_(7B)_Alpaca-2代码，加载模型和分词器时“一直提示访问huggingface.co时出现连接超时”，魔法后还是这样





