# åœºæ™¯äºŒï¼šè½¯ä»¶åŒ…ç®¡ç†

## åœºæ™¯æè¿°

ç®¡ç† Homebrew è½¯ä»¶åŒ…ï¼ŒåŒ…æ‹¬æœç´¢ã€å®‰è£…ã€æ›´æ–°ã€å¸è½½å’ŒæŸ¥çœ‹è½¯ä»¶åŒ…ä¿¡æ¯ã€‚

## æ¶‰åŠå‘½ä»¤

### 1. brew search

**ç”¨é€”**: æœç´¢è½¯ä»¶åŒ…

**è¯­æ³•**:
```bash
brew search <keyword>          # æœç´¢è½¯ä»¶åŒ…
brew search /<regex>/          # ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢
brew search --cask <keyword>   # ä»…æœç´¢ Cask åº”ç”¨
brew search --formula <keyword> # ä»…æœç´¢ Formula
```

**ç¤ºä¾‹**:
```bash
# æœç´¢åŒ…å« "git" çš„è½¯ä»¶åŒ…
$ brew search git
==> Formulae
git                                    git-gerrit                             git-ssh
git-absorb                              git-branchless                         git-subrepo
git-annex                               git-cal                                git-sync
...

==> Casks
git-it                                 gitbook                                gitfiend
gitkraken                              gittyup                                gitup

# æ­£åˆ™è¡¨è¾¾å¼æœç´¢
$ brew search /^git*/
git
git-absorb
git-annex
...

# ä»…æœç´¢ Formula
$ brew search --formula python
==> Formulae
python@3.10    python@3.11    python@3.12    python@3.9
```

---

### 2. brew install

**ç”¨é€”**: å®‰è£…è½¯ä»¶åŒ…

**è¯­æ³•**:
```bash
brew install <package>         # å®‰è£…è½¯ä»¶åŒ…
brew install <package>@<version> # å®‰è£…æŒ‡å®šç‰ˆæœ¬
brew install --build-from-source <package> # ä»æºç ç¼–è¯‘
brew install --HEAD <package>  # å®‰è£…æœ€æ–°å¼€å‘ç‰ˆæœ¬
brew install --ignore-dependencies <package> # å¿½ç•¥ä¾èµ–
brew install --dry-run <package> # é¢„è§ˆå®‰è£…å†…å®¹
```

**ç¤ºä¾‹**:
```bash
# åŸºæœ¬å®‰è£…
$ brew install git
==> Downloading https://ghcr.io/v2/homebrew/core/git/manifests/2.45.0
==> Fetching git
==> Downloading https://ghcr.io/v2/homebrew/core/git/blobs/sha256:xxx
==> Pouring git--2.45.0.arm64_sonoma.bottle.tar.gz
==> Caveats
The Tcl/Tk framework is required to use the git-gui tool.
==> Summary
ğŸº  /opt/homebrew/Cellar/git/2.45.0: 1,856 files, 49.7MB

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
$ brew install python@3.11

# ä»æºç ç¼–è¯‘
$ brew install --build-from-source wget

# å®‰è£…å¼€å‘ç‰ˆæœ¬
$ brew install --HEAD neovim

# é¢„è§ˆå®‰è£…
$ brew install --dry-run nginx
```

**å®‰è£…é€‰é¡¹**:
```bash
# æŸ¥çœ‹å¯ç”¨é€‰é¡¹
$ brew info --verbose <package>

# ä½¿ç”¨é€‰é¡¹å®‰è£…
$ brew install wget --with-iri
```

---

### 3. brew uninstall

**ç”¨é€”**: å¸è½½è½¯ä»¶åŒ…

**è¯­æ³•**:
```bash
brew uninstall <package>       # å¸è½½è½¯ä»¶åŒ…
brew uninstall --force <package> # å¼ºåˆ¶å¸è½½ï¼ˆåŒ…æ‹¬ä¾èµ–ï¼‰
brew uninstall --ignore-dependencies <package> # å¿½ç•¥ä¾èµ–æ£€æŸ¥
brew uninstall --zap <cask>    # å½»åº•åˆ é™¤ Cask åº”ç”¨åŠæ•°æ®
```

**ç¤ºä¾‹**:
```bash
# åŸºæœ¬å¸è½½
$ brew uninstall git
Uninstalling /opt/homebrew/Cellar/git/2.45.0... (1,856 files, 49.7MB)

# å¼ºåˆ¶å¸è½½
$ brew uninstall --force node

# å½»åº•åˆ é™¤ Cask åº”ç”¨
$ brew uninstall --zap visual-studio-code
```

---

### 4. brew upgrade

**ç”¨é€”**: å‡çº§è½¯ä»¶åŒ…

**è¯­æ³•**:
```bash
brew upgrade                   # å‡çº§æ‰€æœ‰è½¯ä»¶åŒ…
brew upgrade <package>         # å‡çº§æŒ‡å®šè½¯ä»¶åŒ…
brew upgrade --cask            # ä»…å‡çº§ Cask åº”ç”¨
brew upgrade --formula         # ä»…å‡çº§ Formula
brew upgrade --dry-run         # é¢„è§ˆå‡çº§å†…å®¹
brew upgrade --fetch-HEAD      # å‡çº§ HEAD ç‰ˆæœ¬
```

**ç¤ºä¾‹**:
```bash
# å‡çº§æ‰€æœ‰è½¯ä»¶åŒ…
$ brew upgrade
==> Upgrading 3 outdated packages:
node 20.10.0 -> 20.12.0
python@3.12 3.12.1 -> 3.12.2
git 2.44.0 -> 2.45.0

# å‡çº§æŒ‡å®šè½¯ä»¶åŒ…
$ brew upgrade node

# é¢„è§ˆå‡çº§
$ brew upgrade --dry-run
```

---

### 5. brew info

**ç”¨é€”**: æŸ¥çœ‹è½¯ä»¶åŒ…è¯¦ç»†ä¿¡æ¯

**è¯­æ³•**:
```bash
brew info <package>            # æŸ¥çœ‹è½¯ä»¶åŒ…ä¿¡æ¯
brew info --verbose <package>  # è¯¦ç»†ä¿¡æ¯
brew info --json <package>     # JSON æ ¼å¼è¾“å‡º
brew info --installed          # æ‰€æœ‰å·²å®‰è£…è½¯ä»¶åŒ…ä¿¡æ¯
```

**ç¤ºä¾‹**:
```bash
# æŸ¥çœ‹è½¯ä»¶åŒ…ä¿¡æ¯
$ brew info git
==> git: stable 2.45.0 (bottled), HEAD
Distributed revision control system
https://git-scm.com/
/opt/homebrew/Cellar/git/2.45.0 (1,856 files, 49.7MB) *
  Poured from bottle using the formulae.brew.sh API on 2026-02-28 at 10:00:00
From: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/g/git.rb
License: GPL-2.0-only
==> Dependencies
Required: gettext âœ”
==> Options
--HEAD
    Install HEAD version
==> Caveats
The Tcl/Tk framework is required to use the git-gui tool.
==> Analytics
install: 250,000 (30 days), 1,000,000 (90 days), 5,000,000 (365 days)
install-on-request: 200,000 (30 days), 800,000 (90 days), 4,000,000 (365 days)

# JSON æ ¼å¼
$ brew info --json=v2 git | jq '.formulae[0].version'
"2.45.0"
```

---

### 6. brew list

**ç”¨é€”**: åˆ—å‡ºå·²å®‰è£…çš„è½¯ä»¶åŒ…

**è¯­æ³•**:
```bash
brew list                      # åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…è½¯ä»¶åŒ…
brew list --formula            # ä»…åˆ—å‡º Formula
brew list --cask               # ä»…åˆ—å‡º Cask
brew list --versions           # æ˜¾ç¤ºç‰ˆæœ¬å·
brew list --versions <package> # æ˜¾ç¤ºæŒ‡å®šè½¯ä»¶åŒ…çš„æ‰€æœ‰ç‰ˆæœ¬
brew list <package>            # åˆ—å‡ºè½¯ä»¶åŒ…çš„æ–‡ä»¶
```

**ç¤ºä¾‹**:
```bash
# åˆ—å‡ºæ‰€æœ‰è½¯ä»¶åŒ…
$ brew list
git
node
python@3.12
wget

# å¸¦ç‰ˆæœ¬å·
$ brew list --versions
git 2.45.0
node 20.12.0
python@3.12 3.12.2
wget 1.24.5

# åˆ—å‡ºè½¯ä»¶åŒ…çš„æ–‡ä»¶
$ brew list git
/opt/homebrew/Cellar/git/2.45.0/bin/git
/opt/homebrew/Cellar/git/2.45.0/bin/git-cvsserver
...
```

---

### 7. brew outdated

**ç”¨é€”**: æŸ¥çœ‹è¿‡æ—¶çš„è½¯ä»¶åŒ…

**è¯­æ³•**:
```bash
brew outdated                  # æŸ¥çœ‹æ‰€æœ‰è¿‡æ—¶çš„è½¯ä»¶åŒ…
brew outdated --cask           # ä»…æŸ¥çœ‹ Cask
brew outdated --formula        # ä»…æŸ¥çœ‹ Formula
brew outdated --greedy         # åŒ…å«è‡ªåŠ¨æ›´æ–°çš„ Cask
brew outdated --json           # JSON æ ¼å¼è¾“å‡º
```

**ç¤ºä¾‹**:
```bash
# æŸ¥çœ‹è¿‡æ—¶è½¯ä»¶åŒ…
$ brew outdated
git (2.44.0) < 2.45.0
node (20.10.0) < 20.12.0
python@3.12 (3.12.1) < 3.12.2

# JSON æ ¼å¼
$ brew outdated --json=v2 | jq '.formulae[].name'
"git"
"node"
"python@3.12"
```

---

### 8. brew pin / brew unpin

**ç”¨é€”**: é”å®š/è§£é”è½¯ä»¶åŒ…ç‰ˆæœ¬

**è¯­æ³•**:
```bash
brew pin <package>             # é”å®šè½¯ä»¶åŒ…ï¼ˆç¦æ­¢å‡çº§ï¼‰
brew unpin <package>           # è§£é”è½¯ä»¶åŒ…
```

**ç¤ºä¾‹**:
```bash
# é”å®š node ç‰ˆæœ¬
$ brew pin node

# æŸ¥çœ‹é”å®šçš„è½¯ä»¶åŒ…
$ brew list --pinned
node

# è§£é”
$ brew unpin node
```

---

### 9. brew deps

**ç”¨é€”**: æŸ¥çœ‹è½¯ä»¶åŒ…ä¾èµ–

**è¯­æ³•**:
```bash
brew deps <package>            # æŸ¥çœ‹ä¾èµ–
brew deps --tree <package>     # æ ‘å½¢æ˜¾ç¤ºä¾èµ–
brew deps --1 <package>        # ä»…æ˜¾ç¤ºç›´æ¥ä¾èµ–
brew deps --installed          # ä»…æ˜¾ç¤ºå·²å®‰è£…çš„ä¾èµ–
brew deps --include-build <package> # åŒ…å«æ„å»ºä¾èµ–
brew deps --include-test <package> # åŒ…å«æµ‹è¯•ä¾èµ–
```

**ç¤ºä¾‹**:
```bash
# æŸ¥çœ‹ä¾èµ–
$ brew deps git
gettext

# æ ‘å½¢æ˜¾ç¤º
$ brew deps --tree node
node
â”œâ”€â”€ icu4c
â”œâ”€â”€ openssl@3
â””â”€â”€ python@3.12

# ä»…ç›´æ¥ä¾èµ–
$ brew deps --1 node
icu4c
openssl@3
python@3.12
```

---

### 10. brew uses

**ç”¨é€”**: æŸ¥çœ‹å“ªäº›è½¯ä»¶åŒ…ä¾èµ–æŒ‡å®šè½¯ä»¶åŒ…

**è¯­æ³•**:
```bash
brew uses <package>            # æŸ¥çœ‹ä¾èµ–æ­¤è½¯ä»¶åŒ…çš„åŒ…
brew uses --installed <package> # ä»…æ˜¾ç¤ºå·²å®‰è£…çš„
brew uses --recursive <package> # é€’å½’æŸ¥æ‰¾
```

**ç¤ºä¾‹**:
```bash
# æŸ¥çœ‹ä¾èµ– openssl@3 çš„è½¯ä»¶åŒ…
$ brew uses --installed openssl@3
git
node
python@3.12
wget
```

---

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: å®‰è£…å¼€å‘å·¥å…·

```bash
# å®‰è£…å¸¸ç”¨å¼€å‘å·¥å…·
brew install git
brew install node
brew install python@3.12
brew install wget
brew install curl
brew install jq

# å®‰è£…å¼€å‘å·¥å…·
brew install vim
brew install neovim
brew install tmux
brew install fzf
```

### åœºæ™¯ 2: æ‰¹é‡å®‰è£…è½¯ä»¶åŒ…

```bash
# åˆ›å»ºè½¯ä»¶åŒ…åˆ—è¡¨
packages=(
    "git"
    "node"
    "python@3.12"
    "wget"
    "curl"
    "jq"
    "tmux"
    "fzf"
)

# æ‰¹é‡å®‰è£…
for pkg in "${packages[@]}"; do
    brew install "$pkg"
done

# æˆ–ä¸€è¡Œå‘½ä»¤
brew install git node python@3.12 wget curl jq tmux fzf
```

### åœºæ™¯ 3: æ›´æ–°ç‰¹å®šè½¯ä»¶åŒ…

```bash
# æŸ¥çœ‹è¿‡æ—¶çš„è½¯ä»¶åŒ…
brew outdated

# æ›´æ–°ç‰¹å®šè½¯ä»¶åŒ…
brew upgrade git
brew upgrade node

# æ›´æ–°æ‰€æœ‰è½¯ä»¶åŒ…
brew upgrade
```

### åœºæ™¯ 4: æ¸…ç†æ—§ç‰ˆæœ¬

```bash
# æŸ¥çœ‹å¯æ¸…ç†çš„ç©ºé—´
brew cleanup -n

# æ¸…ç†æ‰€æœ‰æ—§ç‰ˆæœ¬
brew cleanup

# æ¸…ç†ç‰¹å®šè½¯ä»¶åŒ…
brew cleanup git

# æ¸…ç†æ‰€æœ‰ç¼“å­˜
brew cleanup --prune=all
```

### åœºæ™¯ 5: é‡æ–°å®‰è£…è½¯ä»¶åŒ…

```bash
# é‡æ–°å®‰è£…
brew reinstall git

# ä»æºç é‡æ–°ç¼–è¯‘
brew reinstall --build-from-source git
```

### åœºæ™¯ 6: æŸ¥æ‰¾å¹¶å®‰è£…

```bash
# æœç´¢è½¯ä»¶åŒ…
brew search ffmpeg

# æŸ¥çœ‹ä¿¡æ¯
brew info ffmpeg

# æŸ¥çœ‹é€‰é¡¹
brew info --verbose ffmpeg

# å®‰è£…
brew install ffmpeg
```

---

## æœ€ä½³å®è·µ

### 1. ä½¿ç”¨ Brewfile ç®¡ç†è½¯ä»¶åŒ…

```bash
# åˆ›å»º Brewfile
brew bundle dump

# ç¼–è¾‘ Brewfile
cat Brewfile

# ä» Brewfile å®‰è£…
brew bundle install
```

**Brewfile ç¤ºä¾‹**:
```ruby
# Brewfile
tap "homebrew/cask"
tap "homebrew/core"

# Formula
brew "git"
brew "node"
brew "python@3.12"
brew "wget"
brew "tmux"

# Cask
cask "visual-studio-code"
cask "docker"
cask "google-chrome"

# Mac App Store
mas "Xcode", id: 497799835
```

### 2. å®šæœŸç»´æŠ¤

```bash
# å®šæœŸæ‰§è¡Œ
brew update          # æ›´æ–° Homebrew
brew upgrade         # å‡çº§è½¯ä»¶åŒ…
brew cleanup         # æ¸…ç†æ—§ç‰ˆæœ¬
brew doctor          # æ£€æŸ¥é—®é¢˜
```

### 3. ä½¿ç”¨åˆ«åç®€åŒ–å‘½ä»¤

```bash
# æ·»åŠ åˆ° ~/.zshrc æˆ– ~/.bashrc
alias bi='brew install'
alias bu='brew update && brew upgrade'
alias bs='brew search'
alias bl='brew list'
alias binfo='brew info'
alias bc='brew cleanup'
alias bd='brew doctor'
```

### 4. æŸ¥çœ‹å®‰è£…è¯¦æƒ…

```bash
# å®‰è£…å‰æŸ¥çœ‹
brew info --verbose <package>
brew cat <package>  # æŸ¥çœ‹ Formula æºç 

# æŸ¥çœ‹å®‰è£…çš„æ–‡ä»¶
brew list <package>
```

### 5. å¤„ç†ä¾èµ–é—®é¢˜

```bash
# æŸ¥çœ‹ä¾èµ–æ ‘
brew deps --tree <package>

# æŸ¥çœ‹åå‘ä¾èµ–
brew uses --installed <package>

# å¼ºåˆ¶å¸è½½ï¼ˆæœ‰ä¾èµ–æ—¶ï¼‰
brew uninstall --ignore-dependencies <package>
```

---

## å¸¸è§é—®é¢˜

### Q: å®‰è£…æ—¶ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Ÿ

```bash
# è®¾ç½®é•œåƒæº
export HOMEBREW_BOTTLE_DOMAIN="https://mirrors.ustc.edu.cn/homebrew-bottles"

# æˆ–ä½¿ç”¨ä»£ç†
export https_proxy=http://127.0.0.1:7890
```

### Q: å¦‚ä½•æŸ¥çœ‹è½¯ä»¶åŒ…çš„å®‰è£…é€‰é¡¹ï¼Ÿ

```bash
# æŸ¥çœ‹é€‰é¡¹
brew info --verbose <package>

# æŸ¥çœ‹ Formula æºç 
brew cat <package>
```

### Q: å¦‚ä½•é‡æ–°é“¾æ¥è½¯ä»¶åŒ…ï¼Ÿ

```bash
# é‡æ–°é“¾æ¥
brew unlink <package>
brew link <package>

# å¼ºåˆ¶é“¾æ¥
brew link --overwrite <package>
```

### Q: å¦‚ä½•æŸ¥çœ‹è½¯ä»¶åŒ…çš„å®‰è£…å†å²ï¼Ÿ

```bash
# æŸ¥çœ‹å®‰è£…æ—¥å¿—
ls -la $(brew --cache)/logs/
```

---

## ç›¸å…³å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `brew help <command>` | æŸ¥çœ‹å‘½ä»¤å¸®åŠ© |
| `brew doctor` | è¯Šæ–­é—®é¢˜ |
| `brew cleanup` | æ¸…ç†æ—§ç‰ˆæœ¬ |
| `brew update` | æ›´æ–° Homebrew |

---

*æœ€åæ›´æ–°: 2026å¹´2æœˆ28æ—¥*
