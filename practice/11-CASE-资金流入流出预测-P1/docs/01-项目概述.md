# 资金流入流出预测项目 - 项目概述

## 项目简介

资金流入流出预测项目是一个完整的时间序列预测系统，专注于预测基金的申购和赎回资金流动。该项目基于阿里云天池竞赛数据集，使用Prophet等时间序列预测模型，探索金融数据预测的最佳实践和优化策略。

## 核心功能

### 1. 时间序列预测
- 使用Prophet模型进行资金流动预测
- 支持年度、周度季节性建模
- 自动处理节假日效应

### 2. 数据分析与可视化
- 每日申购赎回金额统计分析
- 时间序列趋势可视化
- 平稳性检验和差分分析

### 3. 特征工程
- 节假日特征提取
- 周末效应分析
- 周期性特征建模

### 4. 模型评估与优化
- 多版本模型迭代优化
- MAE、MAPE等指标评估
- 过拟合与欠拟合诊断

## 应用场景

### 1. 基金公司资金管理
- 预测申购赎回资金流动
- 优化资金配置策略
- 降低流动性风险

### 2. 银行流动性管理
- 预测资金流入流出
- 制定资金调度计划
- 提高资金利用效率

### 3. 金融数据分析教学
- 时间序列分析方法演示
- Prophet模型实践案例
- 金融数据预测流程学习

### 4. 算法竞赛研究
- 时间序列预测竞赛方案
- 模型优化策略分享
- 性能提升技巧

## 技术特点

### 1. 专业的时间序列建模
- 使用Facebook Prophet框架
- 支持多种季节性模式
- 自动处理异常值和缺失值

### 2. 完善的节假日建模
- 中国法定节假日完整覆盖
- 节假日效应参数可调
- 支持自定义节假日

### 3. 科学的模型评估
- MAE (Mean Absolute Error)
- RMSE (Root Mean Square Error)
- MAPE (Mean Absolute Percentage Error)

### 4. 版本迭代优化
- 多版本模型对比
- 参数调优记录
- 最佳实践总结

## 项目结构

```
CASE-资金流入流出预测-P1/
├── README.md                           # 项目说明
├── 资金流入流出预测.ipynb              # Jupyter笔记本（主分析）
├── code/                               # 核心代码目录
│   └── prophet_v6_prediction.py       # 最佳模型预测代码
├── feature/                            # 特征工程模块
│   ├── analyze_weekend_effect.py      # 周末效应分析
│   ├── data_analysis.py               # 数据分析工具
│   ├── data_loader.py                 # 数据加载工具
│   ├── prophet_model_comparison.py    # Prophet模型对比
│   ├── test_holiday_impact.py         # 节假日影响测试
│   ├── time_series_analysis.py        # 时间序列分析
│   └── visualization.py               # 可视化工具
├── data/                               # 数据目录
│   ├── comp_predict_table.csv         # 竞赛预测表
│   ├── mfd_bank_shibor.csv            # 银行间拆借利率数据
│   ├── mfd_day_share_interest.csv     # 股票利率数据
│   └── user_profile_table.csv         # 用户画像数据
├── model/                              # 模型存储目录
│   └── *.pkl                          # 训练好的模型
├── prediction_result/                  # 预测结果目录
│   └── *.csv                          # 模型预测输出
└── docs/                               # 文档目录
    └── ...
```

## 数据说明

### 1. 数据来源
- **竞赛平台**: 阿里云天池
- **竞赛名称**: 资金流入流出预测-挑战Baseline
- **数据时间范围**: 2013年7月1日 - 2014年8月31日

### 2. 核心数据文件

| 文件名 | 说明 | 关键字段 |
|--------|------|----------|
| user_balance_table.csv | 用户余额数据 | report_date, total_purchase_amt, total_redeem_amt |
| user_profile_table.csv | 用户画像数据 | 用户基本信息、风险偏好等 |
| mfd_bank_shibor.csv | 银行间拆借利率 | Shibor利率数据 |
| mfd_day_share_interest.csv | 股票利率数据 | 市场利率相关信息 |

### 3. 数据特征
- **时间跨度**: 约427天
- **数据粒度**: 日级别汇总
- **预测目标**: 未来30天的申购和赎回金额
- **评估指标**: MAE (Mean Absolute Error)

## 性能指标

### 竞赛成绩

| 版本 | MAE分数 | 主要策略 |
|------|---------|----------|
| prophet_v6 | **123.9908** | 回归v1/v2成功配置，平衡优化 |
| prophet_v3 | ~90 | 基础节假日建模 |
| prophet_v4 | ~76 | 过拟合问题 |
| prophet_v5 | 较低 | 欠拟合问题 |

### 评估指标说明

#### MAE (Mean Absolute Error)
$$MAE = \frac{1}{n}\sum_{i=1}^{n}|y_i - \hat{y}_i|$$

#### RMSE (Root Mean Square Error)
$$RMSE = \sqrt{\frac{1}{n}\sum_{i=1}^{n}(y_i - \hat{y}_i)^2}$$

#### MAPE (Mean Absolute Percentage Error)
$$MAPE = \frac{100\%}{n}\sum_{i=1}^{n}\left|\frac{y_i - \hat{y}_i}{y_i}\right|$$

## 技术栈

### 核心技术
- **Python 3.11+**: 主要编程语言
- **Prophet**: Facebook开源时间序列预测框架
- **pandas**: 数据处理和分析
- **numpy**: 数值计算

### 统计分析
- **statsmodels**: 统计建模和时间序列分析
- **scipy**: 科学计算

### 可视化
- **matplotlib**: 基础绑图
- **seaborn**: 统计数据可视化

### 项目管理
- **uv**: 现代Python包管理器
- **Jupyter Notebook**: 交互式分析

## 项目价值

### 1. 学习价值
- 深入理解时间序列预测技术
- 掌握Prophet模型的使用方法
- 学习金融数据预测的最佳实践

### 2. 实用价值
- 提供可直接使用的时间序列预测解决方案
- 支持金融行业资金流动预测
- 为类似项目提供技术参考

### 3. 竞赛价值
- 天池竞赛实战经验
- 模型优化策略分享
- 算法迭代方法论

## 发展规划

### 短期目标
- [x] 完成Prophet模型基础预测
- [x] 优化节假日建模策略
- [x] 实现MAE < 150目标

### 中期目标
- [ ] 尝试更多时间序列模型（ARIMA、LSTM等）
- [ ] 集成学习方法探索
- [ ] 特征工程深度优化

### 长期目标
- [ ] 构建多模型融合预测系统
- [ ] 实时预测API服务
- [ ] 自动化模型调优平台

## 竞赛背景

### 竞赛信息
- **竞赛名称**: 资金流入流出预测-挑战Baseline
- **竞赛平台**: 阿里云天池
- **任务类型**: 时间序列预测
- **评估指标**: MAE (Mean Absolute Error)

### 竞赛目标
预测基金在未来30天的每日申购和赎回金额，帮助基金公司更好地进行资金管理和流动性规划。

### 数据特点
- **时间序列数据**: 具有明显的周期性和趋势性
- **节假日效应**: 中国节假日对资金流动影响显著
- **周末效应**: 工作日和周末的资金流动模式差异明显

---

*最后更新: 2026年2月15日*
*项目版本: v1.0*
*技术支持: build-your-own-ai项目团队*
