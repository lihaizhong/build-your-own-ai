# RAG问答系统 - 项目概述

## 项目简介

RAG问答系统是一个基于LangChain框架构建的检索增强生成（Retrieval-Augmented Generation）智能问答系统。该系统专门针对AI产品经理面试题知识库进行设计，实现了从PDF文档中提取知识、构建向量索引、智能检索和生成回答的完整流程。

通过结合文档检索和大语言模型生成能力，系统能够基于知识库内容提供准确、有据可查的智能问答服务，并在回答中标注信息来源的页码，增强了回答的可信度和可追溯性。

## 核心功能

### 1. PDF文档处理
- 智能PDF文本提取
- 页码信息记录和追踪
- 文档统计信息生成
- 多格式文档支持扩展

### 2. 文档向量化
- 文本智能分割
- DashScope嵌入模型集成
- 高质量向量生成
- 中文文本优化处理

### 3. 向量存储检索
- FAISS向量数据库
- 高效相似度搜索
- Top-K结果返回
- 元数据完整保留

### 4. 智能问答生成
- DashScope通义千问集成
- 上下文感知回答
- 来源页码标注
- 多轮对话支持

### 5. 交互式体验
- 命令行交互界面
- 自动测试模式
- 自定义文档路径
- 详细日志输出

## 应用场景

### 1. 企业知识库问答
- 产品文档智能问答
- 技术文档检索助手
- 企业内部知识管理
- 新员工培训系统

### 2. 教育培训领域
- 课程材料智能问答
- 考试题库解析
- 学习资料检索
- 知识点快速查找

### 3. 客户服务场景
- 产品FAQ自动回答
- 使用手册智能检索
- 技术支持辅助
- 问题快速响应

### 4. 研究分析领域
- 文献资料检索
- 研究报告分析
- 数据来源追踪
- 知识图谱构建

## 技术特点

### 1. RAG技术架构
- 检索增强生成范式
- 知识库驱动回答
- 减少模型幻觉
- 提供信息溯源

### 2. LangChain框架
- 模块化组件设计
- 丰富的工具集成
- 灵活的链式调用
- 易于扩展定制

### 3. 国产大模型集成
- DashScope API集成
- 通义千问（qwen-turbo）
- text-embedding-v2嵌入
- 完整中文支持

### 4. 高效向量检索
- FAISS高性能索引
- 毫秒级检索响应
- 内存优化存储
- 支持大规模数据

## 项目结构

```
15-CASE-创建RAG问答/
├── code/                           # 核心代码目录
│   ├── main.py                    # 主程序入口
│   ├── pdf_processor.py           # PDF处理模块
│   └── deepseek_integration.py    # DashScope集成模块
├── data/                           # 数据目录
│   └── AI产品经理面试题65道.pdf   # 知识库PDF文档
├── docs/                           # 文档目录
│   ├── 00-文档索引.md             # 文档导航索引
│   ├── 01-项目概述.md             # 项目概述（本文档）
│   ├── 02-技术架构.md             # 技术架构详解
│   ├── 03-使用指南.md             # 使用指南
│   ├── 04-代码实现.md             # 代码实现详解
│   ├── 05-测试和部署.md           # 测试和部署指南
│   ├── rag.webp                   # RAG架构图
│   ├── test_rag.png               # 测试截图
│   └── test_system.png            # 系统测试截图
├── .venv/                          # 虚拟环境（不提交）
├── pyproject.toml                  # 项目配置文件
├── test_rag.py                     # RAG基础测试
├── test_system.py                  # 系统功能测试
└── README.md                       # 项目说明文档
```

## 技术栈

### 核心框架
- **Python**: 3.11+
- **LangChain**: RAG应用开发框架
- **LangChain Community**: 社区组件集成

### 大模型服务
- **DashScope**: 阿里云大模型平台
- **通义千问（qwen-turbo）**: 问答生成模型
- **text-embedding-v2**: 文本嵌入模型

### 向量数据库
- **FAISS**: Facebook开源向量检索库
- **高性能索引**: 支持大规模向量检索
- **内存优化**: 高效的向量存储方案

### 文档处理
- **PyPDFLoader**: LangChain PDF加载器
- **RecursiveCharacterTextSplitter**: 智能文本分割器
- **python-dotenv**: 环境变量管理

### 开发工具
- **uv**: 现代Python包管理器
- **argparse**: 命令行参数解析
- **typing**: 类型提示支持

## 性能指标

### 文档处理性能
- **PDF加载**: 约1-3秒（65道面试题）
- **文本分割**: 生成约100-200个文档块
- **向量生成**: 约10-30秒（首次加载）
- **索引构建**: 约5-10秒

### 检索性能
- **检索延迟**: < 100ms
- **Top-K检索**: 返回4个最相关文档
- **相似度计算**: 基于余弦相似度

### 问答性能
- **回答生成**: 2-5秒（取决于问题复杂度）
- **来源追踪**: 自动标注页码
- **准确率**: 基于知识库内容

## 系统工作流程

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   PDF文档   │ →  │  文本提取   │ →  │  文档分割   │
│   输入      │    │  页码记录   │    │  块生成     │
└─────────────┘    └─────────────┘    └─────────────┘
                                             │
                                             ↓
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  智能回答   │ ←  │  LLM生成    │ ←  │  向量化     │
│  输出       │    │  上下文整合 │    │  FAISS索引  │
└─────────────┘    └─────────────┘    └─────────────┘
       ↑                  ↑
       │                  │
       └──────────────────┘
              用户查询
```

### 详细流程

1. **文档收集**: 收集整理知识库文档（PDF格式）
2. **文本提取**: 从PDF中提取文本并记录页码
3. **文档分割**: 将长文档分割成适当大小的文本块
4. **向量化**: 使用嵌入模型将文本转换为向量
5. **索引构建**: 创建FAISS向量索引
6. **检索查询**: 根据用户问题检索相关文档
7. **回答生成**: 使用LLM基于检索内容生成回答
8. **结果展示**: 显示回答和来源页码

## 项目价值

### 1. 学习价值
- 深入理解RAG技术原理
- 掌握LangChain框架使用
- 学习向量数据库应用
- 实践大模型API集成

### 2. 实用价值
- 可直接用于知识库问答
- 支持自定义文档扩展
- 提供完整的代码示例
- 易于二次开发定制

### 3. 技术价值
- 展示RAG最佳实践
- 提供国产大模型集成方案
- 演示完整的工程化流程
- 包含详细的文档说明

### 4. 商业价值
- 企业知识库建设参考
- 智能客服系统原型
- 文档问答产品演示
- 技术方案验证

## 发展规划

### 短期目标
- [x] 完成基础RAG功能实现
- [x] 集成DashScope大模型
- [x] 支持PDF文档处理
- [x] 实现交互式问答
- [ ] 添加多文档支持
- [ ] 实现向量数据库持久化

### 中期目标
- [ ] 支持更多文档格式（Word、Markdown等）
- [ ] 添加多轮对话功能
- [ ] 实现流式输出
- [ ] 添加Web界面
- [ ] 支持多语言

### 长期目标
- [ ] 构建企业级知识库平台
- [ ] 集成多模态理解
- [ ] 实现知识图谱增强
- [ ] 支持分布式部署
- [ ] 添加权限管理

## 快速开始

### 环境准备
```bash
# 进入项目目录
cd practice/15-CASE-创建RAG问答

# 创建虚拟环境
uv venv --python 3.11

# 激活虚拟环境
source .venv/bin/activate

# 安装依赖
uv sync
```

### 配置API密钥
```bash
# 创建.env文件
echo "DASHSCOPE_API_KEY=your_api_key_here" > .env
```

### 运行系统
```bash
# 交互式问答模式
uv run python code/main.py --mode interactive

# 自动测试模式
uv run python code/main.py --mode test

# 指定自定义PDF
uv run python code/main.py --pdf /path/to/your/document.pdf
```

## 相关资源

### 项目文档
- [技术架构](02-技术架构.md) - 系统技术架构详解
- [使用指南](03-使用指南.md) - 详细使用说明
- [代码实现](04-代码实现.md) - 代码实现细节
- [测试和部署](05-测试和部署.md) - 测试部署指南

### 外部资源
- [LangChain官方文档](https://python.langchain.com/docs/)
- [DashScope开发指南](https://help.aliyun.com/zh/dashscope/)
- [FAISS官方文档](https://faiss.ai/)
- [RAG技术综述](https://arxiv.org/abs/2005.11401)

---

*最后更新: 2026年2月15日*
*项目版本: v1.0*
*技术支持: build-your-own-ai项目团队*
