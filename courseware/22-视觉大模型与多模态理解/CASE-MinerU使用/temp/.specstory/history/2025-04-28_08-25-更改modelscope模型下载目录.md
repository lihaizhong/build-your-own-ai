<!-- Generated by SpecStory -->

# æ›´æ”¹ModelScopeæ¨¡å‹ä¸‹è½½ç›®å½• (2025-04-28 16:25:55)

_**User**_

æˆ‘åœ¨ä½¿ç”¨modelscopeä¸‹è½½ï¼Œä¿å­˜æ¨¡å‹æ–‡ä»¶ä¸è¦åˆ° cç›˜ï¼Œæˆ‘æƒ³ç”¨å½“å‰ç›®å½•ä¸‹é¢ä½œä¸ºä¿å­˜çš„æ–‡ä»¶ç›®å½•

---

_**Assistant**_

<details>
            <summary>Searched codebase "snapshot_download ä¿å­˜è·¯å¾„" â€¢ **8** results</summary>
        
| File | Lines |
|------|-------|
| `download_models.py` | L1-13 |
| `download_models_hf.py` | L1-13 |
| `download_models.py` | L31-67 |
| `download_models_hf.py` | L31-74 |
| `download_models.py` | L13-31 |
| `download_models_hf.py` | L13-31 |
| `Untitled.ipynb` | L1-55 |
| `.cursorindexingignore` | L1-3 |

</details>

---

<details>
            <summary>Searched codebase "snapshot_download cache_dir" â€¢ **8** results</summary>
        
| File | Lines |
|------|-------|
| `download_models_hf.py` | L1-13 |
| `download_models.py` | L1-13 |
| `download_models.py` | L31-67 |
| `download_models_hf.py` | L31-74 |
| `download_models.py` | L13-31 |
| `download_models_hf.py` | L13-31 |
| `Untitled.ipynb` | L1-55 |
| `.cursorindexingignore` | L1-3 |

</details>

---

<details>
            <summary>Searched codebase "modelscope snapshot_download cache_dir" â€¢ **8** results</summary>
        
| File | Lines |
|------|-------|
| `download_models.py` | L1-13 |
| `download_models.py` | L31-67 |
| `download_models_hf.py` | L1-13 |
| `download_models_hf.py` | L31-74 |
| `download_models_hf.py` | L13-31 |
| `download_models.py` | L13-31 |
| `Untitled.ipynb` | L1-55 |
| `.cursorindexingignore` | L1-3 |

</details>

---

<details>
            <summary>Searched web "modelscope snapshot_download cache_dir å‚æ•°" â€¢ **5** results</summary>
        
| Title | URL |
|-------|-----|
| æ›´æ¢æŒ‡å®šHuggingface/Modelscopeé»˜è®¤ä¸‹è½½ä½ç½®åŸåˆ› | https://blog.csdn.net/m0_52942489/article/details/136874466 |
| modelscope é­”æ­ç¤¾åŒºæ¨¡å‹ä¸‹è½½åŸåˆ› | https://blog.csdn.net/MnivL/article/details/145465800 |
| GitHub - modelscope/modelscope: ModelScope: bring the notion of Model-as-a-Service to life. | https://github.com/modelscope/modelscope |
| Offline HuggingFace Models on HPC | https://gist.github.com/muhark/f861fa35e5a6bddef20ddd2da6c30820 |
| GitHub - alexhegit/Download_LLM: Download LLM model files | https://github.com/alexhegit/Download_LLM |

</details>

---

<details>
            <summary>Listed current directory â€¢ **11** results</summary>
        
| Name |
|-------|
| ğŸ“„ `download_models.py` |
| ğŸ“„ `download_models_hf.py` |
| ğŸ“„ `.cursorindexingignore` |
| ğŸ“ `.specstory` |
| ğŸ“„ `Untitled.ipynb` |
| ğŸ“ `.ipynb_checkpoints` |
| ğŸ“„ `ã€çˆ±åˆ†æã€‘æ™ºæ…§ç¯å¡”ï¼Œç…§äº®ä¼ä¸šAI Agentå®æ–½æ˜è·¯-2024å¹´AI Agentåº”ç”¨å®è·µæŠ¥å‘Šã€å‘ç°æŠ¥å‘Š fxbaogao.comã€‘.pdf` |
| ğŸ“„ `ã€å¤´è±¹ç ”ç©¶é™¢ã€‘2024å¹´ä¸­å›½AI Agentè¡Œä¸šç ”ç©¶ï¼šæ™ºèƒ½ä½“è½åœ°åƒè¡Œç™¾ä¸šï¼Œå¼•é¢†æ™ºèƒ½åŒ–é©å‘½çš„æ–°å¼•æ“ï¼ˆæ‘˜è¦ç‰ˆï¼‰ã€å‘ç°æŠ¥å‘Š fxbaogao.comã€‘.pdf` |
| ğŸ“„ `ã€å…¨çƒäººå·¥æ™ºèƒ½å¼€å‘ä¸åº”ç”¨å¤§ä¼šã€‘å¤šç¯å¢ƒä¸‹çš„LLM Agentåº”ç”¨ä¸å¢å¼ºã€å‘ç°æŠ¥å‘Š fxbaogao.comã€‘.pdf` |
| ğŸ“„ `ã€å¾·é‚¦è¯åˆ¸ã€‘AI Agent-æµ·å¤–åˆ›æ–°ä¼ä¸šçš„å†æ¬¡è‡ªæˆ‘é©å‘½.pdf` |
| ğŸ“„ `ä¸‰å›½æ¼”ä¹‰.pdf` |

</details>

---

```diff
          # "models/TabRec/StructEqTable/*",
      ]
-     model_dir = snapshot_download('opendatalab/PDF-Extract-Kit-1.0', allow_patterns=mineru_patterns)
-     layoutreader_model_dir = snapshot_download('ppaanngggg/layoutreader')
+     # æŒ‡å®šæ¨¡å‹ä¿å­˜ç›®å½•ä¸ºå½“å‰ç›®å½•ä¸‹çš„ 'modelscope_models' æ–‡ä»¶å¤¹ï¼Œé¿å…ä¿å­˜åˆ° C ç›˜
+     local_model_dir = os.path.join(os.getcwd(), 'modelscope_models')
+     model_dir = snapshot_download('opendatalab/PDF-Extract-Kit-1.0', allow_patterns=mineru_patterns, local_dir=local_model_dir)
+     layoutreader_model_dir = snapshot_download('ppaanngggg/layoutreader', local_dir=local_model_dir)
      model_dir = model_dir + '/models'
      print(f'model_dir is: {model_dir}')
```

---

å·²å°†æ¨¡å‹ä¸‹è½½ç›®å½•ä¿®æ”¹ä¸ºå½“å‰ç›®å½•ä¸‹çš„ `modelscope_models` æ–‡ä»¶å¤¹ã€‚è¿™æ ·ä¸‹è½½çš„æ¨¡å‹æ–‡ä»¶å°†ä¸ä¼šä¿å­˜åˆ° C ç›˜ï¼Œè€Œæ˜¯ä¿å­˜åœ¨ä½ è¿è¡Œè„šæœ¬çš„å½“å‰ç›®å½•ä¸‹ï¼Œæ»¡è¶³ä½ çš„éœ€æ±‚ã€‚

ä¸»è¦ä¿®æ”¹ç‚¹å¦‚ä¸‹ï¼š
- ç»™ `snapshot_download` å¢åŠ äº† `local_dir=local_model_dir` å‚æ•°ï¼Œå¹¶å°†å…¶è·¯å¾„è®¾ä¸ºå½“å‰ç›®å½•ä¸‹çš„ `modelscope_models` æ–‡ä»¶å¤¹ã€‚
- ä¿ç•™äº†åŸæœ‰çš„åŠŸèƒ½å’Œé€»è¾‘ï¼Œæœªå½±å“å…¶ä»–éƒ¨åˆ†ã€‚

å¦‚éœ€è¿›ä¸€æ­¥è‡ªå®šä¹‰ç›®å½•ï¼Œåªéœ€ä¿®æ”¹ `local_model_dir` çš„è·¯å¾„å³å¯ã€‚å¦‚æœè¿˜æœ‰å…¶ä»–éœ€æ±‚ï¼Œæ¬¢è¿ç»§ç»­æé—®ï¼

---

