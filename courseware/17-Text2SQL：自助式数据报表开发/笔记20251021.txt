Q：老师 请问通过wucai写的程序和页面，如何发布到互联网上让其他用户也能访问使用呢
正在开发，后面的版本会支持


Q：关于上节课的问题，知识库健康度检查，是要人工或者LLM生成问题，然后把知识库的回答交给大模型去分析吗？
测试集（Q，标准A）
LLM对（Q，LLM的A，标准A）QA进行判断

Q：RAG中，存在有权限问题，有哪些方式能够处理、
（比如：A有权限查询文档或某个数据库的数据，但B没有权限。又或者2者都有查询，但是查询到的数据是不一样的）
通过标签来进行
文档 可以有tag1
用户 也可以有tag1


Q：不是 我想问的是我自己写了一个小程序，想发布到互联网让c端消费者去体验
方法1：自己需要有个服务器，进行部署
方法2：借助于平台（微信公众号，coze, wucai）


Q：知识库和联网如何处理优先级
内部知识优先级更高 > 互联网

Q：API一直连不成功，要不就是各种依赖不兼容怎么办？


Q：grahpRAG是一个基于RAG的大模型，还是向量数据库？
LLM的RAG应用
里面会有向量匹配的计算逻辑，不过 GraphRAG没有用到向量数据库，在本地的文件中进行的存储


Q：QA测试集是怎么准备的呢
<Q, A>
一般用户提供3-5个种子测试用例，再生成更多的测试用例

数据形式：
1）非结构化
pdf, docx, ppt => LLM，DeepSeekOCR
=> 模糊检索

2）结构化
Excel, SQL 关系型数据库（软件，存储和检索数据）=> 精确检索

AI看到问题，还有手上的tool => 思考要用哪个工具来完成这个任务
Action: sql_db_list_tables
Action: sql_db_schema
Action: sql_db_query_checker
SQL注入，SQL攻击
Action: sql_db_query

Q：字段的comment写清楚是不是会提升稳定性
会的

Q：感觉这个生产环境不会轻易用 太黑盒
工具封装是有必要的，可以更好的被调用，所以langchain是一种很好的实现方式
langchain是开源的，你可以在开源代码中进行 print的追踪，了解到中间的执行过程

Q：是不是要让大模型建表 写表，这样使用起来会更好一点
好顺畅一些，因为都是一个“人”写的，同一套语言体系，更容易理解


Q：老师有个遗留问题，昨天的query改写，现在的大模型似乎都具备类似能力，实际应用还会单独再做改写处理吗？
如果不经常出错，一般不改写处理
针对复杂问题，可以进行query改写


Q：有详细的 数据表结构文档，给到大模型会不会更准确
是的！所以可以人工写 prompt + LLM

RAG地狱难度，需要多看几遍



Q：如果表名跟内容不符，LLM会不会发现？
会误导


Q：pycharm和jupyter都可以跑出来，不是很稳定，多次执行才出来
langchain + LLM 进行text2sql，不是很稳定

昨天的query改写，现在的大模型似乎都具备类似能力，我就是让它照案例给我改写的


wucai跑的话程序会自洽
然后出结果


bonjovi:21:00:02
然后再贴回去


Q：如果有数据隔离，大模型也能做么


wucai
程序会自我修改，能出结果


Q：昨天课程中联网查询，前面是提示词工程解决哪些需要联网查询，但具体怎么联网查询呢？公开信息的联网查询是交给大模型来解决吗？（比如一句话中涉及多数据源的多种信息）
tavily-search 等MCP工具


获取所有客户的姓名和联系电话
获取所有男性客户的姓名和联系电话

Q：如果公司的表名和字段名命名比较不规范呢
=> 如果不规范，人来写SQL => 准确率会降低
=> 数据表名规范，字段名称、字段值规范 + COMMET注释 => 提升SQL准确率

=> 数据治理 （费力不讨好的事情）

Q：Text2SQL如何落地
缩小范围，找到主要的业务场景，筛选适合的数据表（表不要太多，范围不要太大）
1-2张主数据的宽表，对这个宽表的字段 进行规范检查




Q：几十张表，看一下，就一两个小时，自己写sql
是的

Q：比如有一个已经建设好的系统，但是表不是很规范，可以用llm来做数标落地吗
Step1，数据规范化
LLM针对当前的数据表及字段，提供规范的建议

问下大模型建议，以及你写SQL的置信度（0-100）

Q：执行报错ImportError: cannot import name 'create_sql_agent' from 'langchain.agents'


Q：做保险金融这类要求太高了，做客服社交的应该还好
业务相关的，要求都比较高，尤其涉及到钱的计算

Q：但是如果人工整理了十几个表的业务视图，那这功能跟做一个 综合查询报表也差不多，感觉AI也没必要用到这场景了。
有业务视图是好的，可以人工固定下来这些要看的内容  =》 在这些业务查询中，就不需要灵活提问
不过也可能存在灵活提问的需求 => LLM进行 text2sql


Q：一张表的数据量有几万个可以吗？


Q：用户问的字段是用中文问的，但是数据库的字段是英文，怎么做中文和英文的字段以及字段值的mapping 呢？
LLM
比如字段是age，用户问 年龄在20-50之间的


Q：突然想到，如果表字段用中文是不是LLM的查询准确率就大幅提升了。


Q：Step1，提出规范建议，Step2，根据规范建议修改系统可以吗？
好的解决方法


Q：大模型做元数据补齐建议。人来判断


Q：我觉得权控可以通过DB的账号权控来动态选择当前用户使用什么的DB账号
对的

coder vs chat
chat: 聊天，回答问题
coder：补全模型，续写句子

LLM base 基座模型（补全，续写句子） => chat 要微调训练，（回答问题）

Q：像老师现在的代码，是自己写，比较好，还是让AI来写
逻辑的价值
提一个好的问题，会提问题（描述清楚，给它适合的上下文，减少歧义）

@vanna-mysql.py 我想让vanna直接把图表画出来，帮我写到新的 .py



公司
关建是有些数据不是谁都可以查阅呢


Q：错误率多大可接受？
准确率99.9%
如果这个事情，之前人不知道怎么做，准确率 80%

测试集（Q,标准A，LLM的A）

Q：基本都是查询数据吧，用llm改数据库中的数据很危险吧
对 查询数据

Q：另外上下文的限制，是否能开放或者扩大，否则到达上限就只能关掉重开，但是这样就还得导入上下文？


Q：sql智能体一般只会支持查询，增删改查风险太高了
是的

https://chat.qwen.ai/ 
登录进去

